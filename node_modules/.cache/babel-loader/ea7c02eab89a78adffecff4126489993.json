{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/objectSpread\");\n\nvar _toConsumableArray = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/possibleConstructorReturn\");\n\nvar _get = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/get\");\n\nvar _getPrototypeOf = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"C:\\\\Users\\\\youno\\\\tweetle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TweetV2ListTweetsPaginator = exports.TweetV2UserLikedTweetsPaginator = exports.TweetBookmarksTimelineV2Paginator = exports.TweetUserMentionTimelineV2Paginator = exports.TweetUserTimelineV2Paginator = exports.TweetHomeTimelineV2Paginator = exports.QuotedTweetsTimelineV2Paginator = exports.TweetSearchAllV2Paginator = exports.TweetSearchRecentV2Paginator = void 0;\n\nvar v2_paginator_1 = require(\"./v2.paginator\");\n/** A generic PreviousableTwitterPaginator able to consume TweetV2 timelines with since_id, until_id and next_token (when available). */\n\n\nvar TweetTimelineV2Paginator = /*#__PURE__*/function (_v2_paginator_1$Twitt) {\n  _inherits(TweetTimelineV2Paginator, _v2_paginator_1$Twitt);\n\n  function TweetTimelineV2Paginator() {\n    _classCallCheck(this, TweetTimelineV2Paginator);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TweetTimelineV2Paginator).apply(this, arguments));\n  }\n\n  _createClass(TweetTimelineV2Paginator, [{\n    key: \"refreshInstanceFromResult\",\n    value: function refreshInstanceFromResult(response, isNextPage) {\n      var _a;\n\n      var result = response.data;\n      var resultData = (_a = result.data) !== null && _a !== void 0 ? _a : [];\n      this._rateLimit = response.rateLimit;\n\n      if (!this._realData.data) {\n        this._realData.data = [];\n      }\n\n      if (isNextPage) {\n        var _this$_realData$data;\n\n        this._realData.meta.oldest_id = result.meta.oldest_id;\n        this._realData.meta.result_count += result.meta.result_count;\n        this._realData.meta.next_token = result.meta.next_token;\n\n        (_this$_realData$data = this._realData.data).push.apply(_this$_realData$data, _toConsumableArray(resultData));\n      } else {\n        var _this$_realData$data2;\n\n        this._realData.meta.newest_id = result.meta.newest_id;\n        this._realData.meta.result_count += result.meta.result_count;\n\n        (_this$_realData$data2 = this._realData.data).unshift.apply(_this$_realData$data2, _toConsumableArray(resultData));\n      }\n\n      this.updateIncludes(result);\n    }\n  }, {\n    key: \"getNextQueryParams\",\n    value: function getNextQueryParams(maxResults) {\n      this.assertUsable();\n\n      var params = _objectSpread({}, this.injectQueryParams(maxResults));\n\n      if (this._realData.meta.next_token) {\n        params.next_token = this._realData.meta.next_token;\n      } else {\n        if (params.start_time) {\n          // until_id and start_time are forbidden together for some reason, so convert start_time to a since_id.\n          params.since_id = this.dateStringToSnowflakeId(params.start_time);\n          delete params.start_time;\n        }\n\n        if (params.end_time) {\n          // until_id overrides end_time, so delete it\n          delete params.end_time;\n        }\n\n        params.until_id = this._realData.meta.oldest_id;\n      }\n\n      return params;\n    }\n  }, {\n    key: \"getPreviousQueryParams\",\n    value: function getPreviousQueryParams(maxResults) {\n      this.assertUsable();\n      return _objectSpread({}, this.injectQueryParams(maxResults), {\n        since_id: this._realData.meta.newest_id\n      });\n    }\n  }, {\n    key: \"getPageLengthFromRequest\",\n    value: function getPageLengthFromRequest(result) {\n      var _a, _b;\n\n      return (_b = (_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n    }\n  }, {\n    key: \"isFetchLastOver\",\n    value: function isFetchLastOver(result) {\n      var _a;\n\n      return !((_a = result.data.data) === null || _a === void 0 ? void 0 : _a.length) || !this.canFetchNextPage(result.data);\n    }\n  }, {\n    key: \"canFetchNextPage\",\n    value: function canFetchNextPage(result) {\n      return !!result.meta.next_token;\n    }\n  }, {\n    key: \"getItemArray\",\n    value: function getItemArray() {\n      return this.tweets;\n    }\n  }, {\n    key: \"dateStringToSnowflakeId\",\n    value: function dateStringToSnowflakeId(dateStr) {\n      var TWITTER_START_EPOCH = BigInt('1288834974657');\n      var date = new Date(dateStr);\n\n      if (isNaN(date.valueOf())) {\n        throw new Error('Unable to convert start_time/end_time to a valid date. A ISO 8601 DateTime is excepted, please check your input.');\n      }\n\n      var dateTimestamp = BigInt(date.valueOf());\n      return (dateTimestamp - TWITTER_START_EPOCH << BigInt('22')).toString();\n    }\n    /**\n     * Tweets returned by paginator.\n     */\n\n  }, {\n    key: \"tweets\",\n    get: function get() {\n      var _a;\n\n      return (_a = this._realData.data) !== null && _a !== void 0 ? _a : [];\n    }\n  }, {\n    key: \"meta\",\n    get: function get() {\n      return _get(_getPrototypeOf(TweetTimelineV2Paginator.prototype), \"meta\", this);\n    }\n  }]);\n\n  return TweetTimelineV2Paginator;\n}(v2_paginator_1.TwitterV2Paginator);\n/** A generic PreviousableTwitterPaginator able to consume TweetV2 timelines with pagination_tokens. */\n\n\nvar TweetPaginableTimelineV2Paginator = /*#__PURE__*/function (_v2_paginator_1$Timel) {\n  _inherits(TweetPaginableTimelineV2Paginator, _v2_paginator_1$Timel);\n\n  function TweetPaginableTimelineV2Paginator() {\n    _classCallCheck(this, TweetPaginableTimelineV2Paginator);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TweetPaginableTimelineV2Paginator).apply(this, arguments));\n  }\n\n  _createClass(TweetPaginableTimelineV2Paginator, [{\n    key: \"refreshInstanceFromResult\",\n    value: function refreshInstanceFromResult(response, isNextPage) {\n      _get(_getPrototypeOf(TweetPaginableTimelineV2Paginator.prototype), \"refreshInstanceFromResult\", this).call(this, response, isNextPage);\n\n      var result = response.data;\n\n      if (isNextPage) {\n        this._realData.meta.oldest_id = result.meta.oldest_id;\n      } else {\n        this._realData.meta.newest_id = result.meta.newest_id;\n      }\n    }\n  }, {\n    key: \"getItemArray\",\n    value: function getItemArray() {\n      return this.tweets;\n    }\n    /**\n     * Tweets returned by paginator.\n     */\n\n  }, {\n    key: \"tweets\",\n    get: function get() {\n      var _a;\n\n      return (_a = this._realData.data) !== null && _a !== void 0 ? _a : [];\n    }\n  }, {\n    key: \"meta\",\n    get: function get() {\n      return _get(_getPrototypeOf(TweetPaginableTimelineV2Paginator.prototype), \"meta\", this);\n    }\n  }]);\n\n  return TweetPaginableTimelineV2Paginator;\n}(v2_paginator_1.TimelineV2Paginator); // ----------------\n// - Tweet search -\n// ----------------\n\n\nvar TweetSearchRecentV2Paginator = /*#__PURE__*/function (_TweetTimelineV2Pagin) {\n  _inherits(TweetSearchRecentV2Paginator, _TweetTimelineV2Pagin);\n\n  function TweetSearchRecentV2Paginator() {\n    var _this;\n\n    _classCallCheck(this, TweetSearchRecentV2Paginator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TweetSearchRecentV2Paginator).apply(this, arguments));\n    _this._endpoint = 'tweets/search/recent';\n    return _this;\n  }\n\n  return TweetSearchRecentV2Paginator;\n}(TweetTimelineV2Paginator);\n\nexports.TweetSearchRecentV2Paginator = TweetSearchRecentV2Paginator;\n\nvar TweetSearchAllV2Paginator = /*#__PURE__*/function (_TweetTimelineV2Pagin2) {\n  _inherits(TweetSearchAllV2Paginator, _TweetTimelineV2Pagin2);\n\n  function TweetSearchAllV2Paginator() {\n    var _this2;\n\n    _classCallCheck(this, TweetSearchAllV2Paginator);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(TweetSearchAllV2Paginator).apply(this, arguments));\n    _this2._endpoint = 'tweets/search/all';\n    return _this2;\n  }\n\n  return TweetSearchAllV2Paginator;\n}(TweetTimelineV2Paginator);\n\nexports.TweetSearchAllV2Paginator = TweetSearchAllV2Paginator;\n\nvar QuotedTweetsTimelineV2Paginator = /*#__PURE__*/function (_TweetPaginableTimeli) {\n  _inherits(QuotedTweetsTimelineV2Paginator, _TweetPaginableTimeli);\n\n  function QuotedTweetsTimelineV2Paginator() {\n    var _this3;\n\n    _classCallCheck(this, QuotedTweetsTimelineV2Paginator);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(QuotedTweetsTimelineV2Paginator).apply(this, arguments));\n    _this3._endpoint = 'tweets/:id/quote_tweets';\n    return _this3;\n  }\n\n  return QuotedTweetsTimelineV2Paginator;\n}(TweetPaginableTimelineV2Paginator);\n\nexports.QuotedTweetsTimelineV2Paginator = QuotedTweetsTimelineV2Paginator; // -----------------\n// - Home timeline -\n// -----------------\n\nvar TweetHomeTimelineV2Paginator = /*#__PURE__*/function (_TweetPaginableTimeli2) {\n  _inherits(TweetHomeTimelineV2Paginator, _TweetPaginableTimeli2);\n\n  function TweetHomeTimelineV2Paginator() {\n    var _this4;\n\n    _classCallCheck(this, TweetHomeTimelineV2Paginator);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(TweetHomeTimelineV2Paginator).apply(this, arguments));\n    _this4._endpoint = 'users/:id/timelines/reverse_chronological';\n    return _this4;\n  }\n\n  return TweetHomeTimelineV2Paginator;\n}(TweetPaginableTimelineV2Paginator);\n\nexports.TweetHomeTimelineV2Paginator = TweetHomeTimelineV2Paginator;\n\nvar TweetUserTimelineV2Paginator = /*#__PURE__*/function (_TweetPaginableTimeli3) {\n  _inherits(TweetUserTimelineV2Paginator, _TweetPaginableTimeli3);\n\n  function TweetUserTimelineV2Paginator() {\n    var _this5;\n\n    _classCallCheck(this, TweetUserTimelineV2Paginator);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(TweetUserTimelineV2Paginator).apply(this, arguments));\n    _this5._endpoint = 'users/:id/tweets';\n    return _this5;\n  }\n\n  return TweetUserTimelineV2Paginator;\n}(TweetPaginableTimelineV2Paginator);\n\nexports.TweetUserTimelineV2Paginator = TweetUserTimelineV2Paginator;\n\nvar TweetUserMentionTimelineV2Paginator = /*#__PURE__*/function (_TweetPaginableTimeli4) {\n  _inherits(TweetUserMentionTimelineV2Paginator, _TweetPaginableTimeli4);\n\n  function TweetUserMentionTimelineV2Paginator() {\n    var _this6;\n\n    _classCallCheck(this, TweetUserMentionTimelineV2Paginator);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(TweetUserMentionTimelineV2Paginator).apply(this, arguments));\n    _this6._endpoint = 'users/:id/mentions';\n    return _this6;\n  }\n\n  return TweetUserMentionTimelineV2Paginator;\n}(TweetPaginableTimelineV2Paginator);\n\nexports.TweetUserMentionTimelineV2Paginator = TweetUserMentionTimelineV2Paginator; // -------------\n// - Bookmarks -\n// -------------\n\nvar TweetBookmarksTimelineV2Paginator = /*#__PURE__*/function (_TweetPaginableTimeli5) {\n  _inherits(TweetBookmarksTimelineV2Paginator, _TweetPaginableTimeli5);\n\n  function TweetBookmarksTimelineV2Paginator() {\n    var _this7;\n\n    _classCallCheck(this, TweetBookmarksTimelineV2Paginator);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(TweetBookmarksTimelineV2Paginator).apply(this, arguments));\n    _this7._endpoint = 'users/:id/bookmarks';\n    return _this7;\n  }\n\n  return TweetBookmarksTimelineV2Paginator;\n}(TweetPaginableTimelineV2Paginator);\n\nexports.TweetBookmarksTimelineV2Paginator = TweetBookmarksTimelineV2Paginator; // ---------------------------------------------------------------------------------\n// - Tweet lists (consume tweets with pagination tokens instead of since/until id) -\n// ---------------------------------------------------------------------------------\n\n/** A generic TwitterPaginator able to consume TweetV2 timelines. */\n\nvar TweetListV2Paginator = /*#__PURE__*/function (_v2_paginator_1$Timel2) {\n  _inherits(TweetListV2Paginator, _v2_paginator_1$Timel2);\n\n  function TweetListV2Paginator() {\n    _classCallCheck(this, TweetListV2Paginator);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TweetListV2Paginator).apply(this, arguments));\n  }\n\n  _createClass(TweetListV2Paginator, [{\n    key: \"getItemArray\",\n    value: function getItemArray() {\n      return this.tweets;\n    }\n  }, {\n    key: \"tweets\",\n\n    /**\n     * Tweets returned by paginator.\n     */\n    get: function get() {\n      var _a;\n\n      return (_a = this._realData.data) !== null && _a !== void 0 ? _a : [];\n    }\n  }, {\n    key: \"meta\",\n    get: function get() {\n      return _get(_getPrototypeOf(TweetListV2Paginator.prototype), \"meta\", this);\n    }\n  }]);\n\n  return TweetListV2Paginator;\n}(v2_paginator_1.TimelineV2Paginator);\n\nvar TweetV2UserLikedTweetsPaginator = /*#__PURE__*/function (_TweetListV2Paginator) {\n  _inherits(TweetV2UserLikedTweetsPaginator, _TweetListV2Paginator);\n\n  function TweetV2UserLikedTweetsPaginator() {\n    var _this8;\n\n    _classCallCheck(this, TweetV2UserLikedTweetsPaginator);\n\n    _this8 = _possibleConstructorReturn(this, _getPrototypeOf(TweetV2UserLikedTweetsPaginator).apply(this, arguments));\n    _this8._endpoint = 'users/:id/liked_tweets';\n    return _this8;\n  }\n\n  return TweetV2UserLikedTweetsPaginator;\n}(TweetListV2Paginator);\n\nexports.TweetV2UserLikedTweetsPaginator = TweetV2UserLikedTweetsPaginator;\n\nvar TweetV2ListTweetsPaginator = /*#__PURE__*/function (_TweetListV2Paginator2) {\n  _inherits(TweetV2ListTweetsPaginator, _TweetListV2Paginator2);\n\n  function TweetV2ListTweetsPaginator() {\n    var _this9;\n\n    _classCallCheck(this, TweetV2ListTweetsPaginator);\n\n    _this9 = _possibleConstructorReturn(this, _getPrototypeOf(TweetV2ListTweetsPaginator).apply(this, arguments));\n    _this9._endpoint = 'lists/:id/tweets';\n    return _this9;\n  }\n\n  return TweetV2ListTweetsPaginator;\n}(TweetListV2Paginator);\n\nexports.TweetV2ListTweetsPaginator = TweetV2ListTweetsPaginator;","map":null,"metadata":{},"sourceType":"script"}